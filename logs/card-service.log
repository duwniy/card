2025-12-25 00:01:09.864 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 00:01:09.964 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 00:01:12.052 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:01:12.065 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 00:01:12.071 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 00:09:34.275 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 88357 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 00:09:34.280 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 00:09:34.281 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 00:09:35.066 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 00:09:35.166 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 3 JPA repository interfaces.
2025-12-25 00:09:35.710 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 00:09:35.720 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 00:09:35.722 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 00:09:35.723 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 00:09:35.757 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 00:09:35.758 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1444 ms
2025-12-25 00:09:35.916 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 00:09:35.916 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 00:09:36.003 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 00:09:36.117 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6684589a
2025-12-25 00:09:36.119 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 00:09:36.221 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 00:09:36.444 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 00:09:36.492 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 00:09:36.494 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 00:09:36.501 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 00:09:36.501 [main] INFO  liquibase.util - Run:                          0
2025-12-25 00:09:36.501 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 00:09:36.501 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 00:09:36.502 [main] INFO  liquibase.util - -------------------------------
2025-12-25 00:09:36.502 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 00:09:36.502 [main] INFO  liquibase.util - Update summary generated
2025-12-25 00:09:36.503 [main] INFO  liquibase.command - Command execution complete
2025-12-25 00:09:36.888 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 00:09:36.924 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 00:09:37.536 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:09:37.724 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 00:09:38.449 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: 464e9e75-eaa2-4593-8e76-2887e031c759

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 00:09:38.460 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 00:09:38.580 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-12-25 00:09:38.629 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 00:09:38.713 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 00:09:38.770 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 00:09:38.886 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 00:09:38.927 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 00:09:39.309 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 00:09:39.318 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 00:09:39.332 [main] INFO  org.example.card.CardApplication - Started CardApplication in 5.36 seconds (process running for 5.917)
2025-12-25 00:09:53.099 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 00:09:53.099 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 00:09:53.100 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 00:09:53.100 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 00:09:53.100 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 00:09:53.101 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1a2b83b1
2025-12-25 00:09:53.101 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@8966f7
2025-12-25 00:09:53.101 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 00:09:53.101 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-25 00:09:53.127 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-12-25 00:09:53.141 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.141 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.145 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui.html
2025-12-25 00:09:53.147 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui.html", parameters={}
2025-12-25 00:09:53.150 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc#redirectToUi(HttpServletRequest)
2025-12-25 00:09:53.190 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/yaml]
2025-12-25 00:09:53.193 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Nothing to write: null body
2025-12-25 00:09:53.194 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-12-25 00:09:53.208 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 00:09:53.209 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.210 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.210 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 00:09:53.211 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 00:09:53.212 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.217 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.261 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 00:09:53.261 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 00:09:53.261 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 00:09:53.261 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 00:09:53.261 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.261 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.262 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.261 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 00:09:53.262 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.262 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.262 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.262 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.262 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 00:09:53.262 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.262 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 00:09:53.262 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.262 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 00:09:53.262 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 00:09:53.262 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 00:09:53.262 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.262 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 00:09:53.263 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 00:09:53.263 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 00:09:53.263 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.263 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 00:09:53.263 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.263 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 00:09:53.263 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.263 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.263 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.266 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.266 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.268 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.276 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.295 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.442 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 00:09:53.443 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.443 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.444 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 00:09:53.444 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 00:09:53.445 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:09:53.446 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.469 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 00:09:53.470 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.470 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.471 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 00:09:53.471 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 00:09:53.471 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 00:09:53.473 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 00:09:53.484 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 00:09:53.488 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:09:53.500 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 00:09:53.500 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:09:53.500 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:09:53.501 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 00:09:53.501 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 00:09:53.501 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 00:09:53.806 [http-nio-8080-exec-10] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 289 ms
2025-12-25 00:09:53.824 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 00:09:53.825 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 00:09:53.826 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:10:22.730 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /actuator/health
2025-12-25 00:10:22.731 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:10:22.731 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:10:22.732 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /actuator/health
2025-12-25 00:10:22.732 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/actuator/health", parameters={}
2025-12-25 00:10:22.735 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/octet-stream" to []
2025-12-25 00:10:22.744 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json;q=0.8', given [text/html, application/xhtml+xml, application/xml;q=0.9, */*;q=0.8] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-12-25 00:10:22.749 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [org.springframework.boot.actuate.health.SystemHealth@7b8aee95]
2025-12-25 00:10:22.750 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:10:22.808 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-12-25 00:10:22.809 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:10:22.813 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-25 00:10:22.824 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-12-25 00:10:22.825 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:10:22.825 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-25 00:10:35.206 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 00:10:35.208 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 00:10:37.245 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:10:37.248 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 00:10:37.251 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 00:16:24.187 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 90751 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 00:16:24.192 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 00:16:24.193 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 00:16:25.064 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 00:16:25.164 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 3 JPA repository interfaces.
2025-12-25 00:16:25.744 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 00:16:25.752 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 00:16:25.761 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 00:16:25.761 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 00:16:25.804 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 00:16:25.804 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1581 ms
2025-12-25 00:16:25.982 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 00:16:25.983 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 00:16:26.073 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 00:16:26.186 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d3d4a54
2025-12-25 00:16:26.188 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 00:16:26.285 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 00:16:26.524 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 00:16:26.567 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 00:16:26.569 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 00:16:26.575 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 00:16:26.576 [main] INFO  liquibase.util - Run:                          0
2025-12-25 00:16:26.576 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 00:16:26.576 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 00:16:26.576 [main] INFO  liquibase.util - -------------------------------
2025-12-25 00:16:26.576 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 00:16:26.577 [main] INFO  liquibase.util - Update summary generated
2025-12-25 00:16:26.577 [main] INFO  liquibase.command - Command execution complete
2025-12-25 00:16:26.940 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 00:16:26.979 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 00:16:27.586 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:16:27.791 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 00:16:28.552 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: bdf419b5-4c0d-46e7-b9ab-741b4acfb938

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 00:16:28.564 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 00:16:28.677 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-12-25 00:16:28.715 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 00:16:28.851 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 00:16:28.904 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 00:16:29.000 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 00:16:29.037 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 00:16:29.425 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 00:16:29.433 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 00:16:29.445 [main] INFO  org.example.card.CardApplication - Started CardApplication in 5.586 seconds (process running for 6.574)
2025-12-25 00:16:29.816 [RMI TCP Connection(1)-192.168.0.103] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 00:16:29.816 [RMI TCP Connection(1)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 00:16:29.816 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 00:16:29.817 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 00:16:29.817 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 00:16:29.818 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@415efec4
2025-12-25 00:16:29.819 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6ad29dfa
2025-12-25 00:16:29.819 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 00:16:29.819 [RMI TCP Connection(1)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 00:16:44.041 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 00:16:44.045 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 00:16:46.082 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:16:46.085 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 00:16:46.089 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 00:24:51.444 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 94490 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 00:24:51.450 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 00:24:51.450 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 00:24:52.307 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 00:24:52.408 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 3 JPA repository interfaces.
2025-12-25 00:24:52.985 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 00:24:52.993 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 00:24:52.995 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 00:24:52.995 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 00:24:53.032 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 00:24:53.032 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1555 ms
2025-12-25 00:24:53.195 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 00:24:53.195 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 00:24:53.279 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 00:24:53.385 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5d4a34ff
2025-12-25 00:24:53.386 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 00:24:53.480 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 00:24:53.697 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 00:24:53.741 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 00:24:53.743 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 00:24:53.749 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 00:24:53.749 [main] INFO  liquibase.util - Run:                          0
2025-12-25 00:24:53.749 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 00:24:53.749 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 00:24:53.749 [main] INFO  liquibase.util - -------------------------------
2025-12-25 00:24:53.749 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 00:24:53.750 [main] INFO  liquibase.util - Update summary generated
2025-12-25 00:24:53.751 [main] INFO  liquibase.command - Command execution complete
2025-12-25 00:24:54.110 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 00:24:54.143 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 00:24:54.752 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:24:54.946 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 00:24:55.688 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: 81e0f566-8df0-40cb-a50f-84234cb35a8b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 00:24:55.699 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 00:24:55.811 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-12-25 00:24:55.848 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 00:24:55.998 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 00:24:56.053 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 00:24:56.162 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 00:24:56.198 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 00:24:56.605 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 00:24:56.613 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 00:24:56.626 [main] INFO  org.example.card.CardApplication - Started CardApplication in 5.487 seconds (process running for 6.389)
2025-12-25 00:24:57.059 [RMI TCP Connection(4)-192.168.0.103] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 00:24:57.059 [RMI TCP Connection(4)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 00:24:57.060 [RMI TCP Connection(4)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 00:24:57.060 [RMI TCP Connection(4)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 00:24:57.060 [RMI TCP Connection(4)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 00:24:57.062 [RMI TCP Connection(4)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@aa9bf75
2025-12-25 00:24:57.063 [RMI TCP Connection(4)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@f86f13d
2025-12-25 00:24:57.063 [RMI TCP Connection(4)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 00:24:57.063 [RMI TCP Connection(4)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 00:25:16.468 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui.html
2025-12-25 00:25:16.479 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.479 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.484 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui.html
2025-12-25 00:25:16.486 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui.html", parameters={}
2025-12-25 00:25:16.488 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc#redirectToUi(HttpServletRequest)
2025-12-25 00:25:16.509 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/yaml]
2025-12-25 00:25:16.510 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Nothing to write: null body
2025-12-25 00:25:16.511 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-12-25 00:25:16.523 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 00:25:16.524 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.524 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.524 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 00:25:16.525 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 00:25:16.525 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.530 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.573 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 00:25:16.573 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 00:25:16.573 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 00:25:16.573 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 00:25:16.574 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.574 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.574 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.574 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.574 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 00:25:16.574 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.574 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.574 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.574 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.574 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 00:25:16.574 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 00:25:16.575 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 00:25:16.575 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 00:25:16.575 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.575 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 00:25:16.575 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 00:25:16.575 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.575 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.575 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 00:25:16.575 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.575 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 00:25:16.576 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 00:25:16.576 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.576 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 00:25:16.576 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.576 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.578 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.579 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.581 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.590 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.594 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.800 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 00:25:16.801 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.801 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.801 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 00:25:16.801 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 00:25:16.802 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 00:25:16.805 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.821 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 00:25:16.822 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.822 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.823 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 00:25:16.823 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 00:25:16.823 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 00:25:16.824 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 00:25:16.826 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 00:25:16.830 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:25:16.838 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 00:25:16.839 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:25:16.839 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:25:16.840 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 00:25:16.840 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 00:25:16.840 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 00:25:17.164 [http-nio-8080-exec-10] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 313 ms
2025-12-25 00:25:17.184 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 00:25:17.185 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 00:25:17.186 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 00:28:34.355 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/v1/auth/token/1
2025-12-25 00:28:34.364 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:28:34.364 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 00:28:34.367 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-25 00:28:34.372 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-12-25 00:28:34.373 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 00:28:34.373 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-25 00:36:30.306 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 00:36:30.308 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 00:36:32.355 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 00:36:32.360 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 00:36:32.364 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:08:00.802 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 128827 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:08:00.813 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:08:00.814 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:08:02.505 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:08:02.684 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 166 ms. Found 3 JPA repository interfaces.
2025-12-25 10:08:03.467 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:08:03.477 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:08:03.478 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:08:03.478 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:08:03.524 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:08:03.525 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2655 ms
2025-12-25 10:08:03.746 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:08:03.747 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:08:03.859 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:08:03.989 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3205610d
2025-12-25 10:08:03.991 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:08:04.112 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:08:04.377 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:08:04.427 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:08:04.429 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:08:04.436 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:08:04.436 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:08:04.436 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:08:04.436 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:08:04.436 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:08:04.436 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 10:08:04.437 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:08:04.438 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:08:04.816 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:08:04.858 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:08:05.478 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:08:05.676 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:08:06.538 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: aacead87-e62e-4cc8-bdad-5b1edcfcfad7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:08:06.550 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:08:06.670 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:08:06.708 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:08:06.855 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:08:06.919 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:08:07.024 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:08:07.061 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:08:07.462 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:08:07.470 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:08:07.483 [main] INFO  org.example.card.CardApplication - Started CardApplication in 7.331 seconds (process running for 8.719)
2025-12-25 10:08:08.056 [RMI TCP Connection(1)-192.168.0.103] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:08:08.057 [RMI TCP Connection(1)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:08:08.057 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:08:08.057 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:08:08.057 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:08:08.059 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@59c69874
2025-12-25 10:08:08.060 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2d25a125
2025-12-25 10:08:08.060 [RMI TCP Connection(1)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:08:08.060 [RMI TCP Connection(1)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:08:10.987 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:08:11.004 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.005 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.011 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:08:11.015 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:08:11.018 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.039 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.107 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:08:11.107 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:08:11.107 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:08:11.107 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:08:11.108 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:08:11.108 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.109 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.109 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.109 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.109 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.110 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.110 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.110 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.110 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.110 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:08:11.110 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:08:11.110 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:08:11.110 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.110 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:08:11.111 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:08:11.111 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:08:11.111 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:08:11.111 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:08:11.111 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:08:11.112 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:08:11.112 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.112 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.112 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.113 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.113 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.117 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.119 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.122 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.141 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.144 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.492 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:08:11.493 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.493 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.495 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:08:11.495 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:08:11.496 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:08:11.517 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:08:11.522 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:08:11.529 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.534 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:08:11.536 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.536 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.537 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:08:11.537 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:08:11.539 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:08:11.541 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:08:11.542 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:08:11.543 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:08:11.543 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:08:11.544 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:08:11.544 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:08:11.546 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:08:12.047 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 484 ms
2025-12-25 10:08:12.079 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:08:12.081 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:08:12.082 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:09:24.274 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /api/v1/auth/token/1234
2025-12-25 10:09:24.275 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:09:24.275 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:09:24.276 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /api/v1/auth/token/1234
2025-12-25 10:09:24.277 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/v1/auth/token/1234", parameters={}
2025-12-25 10:09:24.277 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.AuthController#generateToken(Long)
2025-12-25 10:09:24.278 [http-nio-8080-exec-4] INFO  org.example.card.controller.AuthController - Generating test token for user: 1234
2025-12-25 10:09:24.386 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json, application/yaml]
2025-12-25 10:09:24.387 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing ["eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0IiwiaWF0IjoxNzY2NjM5MzY0LCJleHAiOjE3NjY3MjU3NjR9.h7gblkZFCZ10Iz (truncated)..."]
2025-12-25 10:09:24.389 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:12:37.801 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:12:37.886 [http-nio-8080-exec-7] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:12:37.888 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:12:37.888 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:12:37.888 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:12:37.923 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:12:37.999 [http-nio-8080-exec-7] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:12:38.017 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:12:38.133 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expired_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.resource_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:12:38.157 [http-nio-8080-exec-7] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42703
2025-12-25 10:12:38.157 [http-nio-8080-exec-7] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ERROR: column ir1_0.expired_at does not exist
  Hint: Perhaps you meant to reference the column "ir1_0.expires_at".
  Position: 49
2025-12-25 10:12:38.180 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.example.card.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-12-25 10:12:38.189 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:12:38.191 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [ErrorResponseDto(code=internal_error, message=An unexpected error occurred: JDBC exception executing (truncated)...]
2025-12-25 10:12:38.195 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select ir1_0.id,ir1_0.created_at,ir1_0.endpoint,ir1_0.expired_at,ir1_0.idempotency_key,ir1_0.resource_id,ir1_0.resource_type,ir1_0.response_body,ir1_0.resource_status from idempotency_records ir1_0 where ir1_0.idempotency_key=?] [ERROR: column ir1_0.expired_at does not exist<EOL>  Hint: Perhaps you meant to reference the column "ir1_0.expires_at".<EOL>  Position: 49] [n/a]; SQL [n/a]]
2025-12-25 10:12:38.196 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-12-25 10:16:07.167 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 131456 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:16:07.172 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:16:07.173 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:16:08.037 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:16:08.141 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 3 JPA repository interfaces.
2025-12-25 10:16:08.729 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:16:08.740 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:16:08.742 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:16:08.742 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:16:08.780 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:16:08.782 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1572 ms
2025-12-25 10:16:08.957 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:16:08.958 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:16:09.043 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:16:09.165 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7294a684
2025-12-25 10:16:09.166 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:16:09.263 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:16:09.495 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:16:09.544 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:16:09.547 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:16:09.553 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:16:09.553 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:16:09.553 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:16:09.554 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:16:09.554 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:16:09.554 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 10:16:09.554 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:16:09.555 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:16:09.937 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:16:09.973 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:16:10.607 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:16:10.821 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:16:11.592 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: a3db2db5-d5ef-4848-b250-fc389c8d5d7f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:16:11.607 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:16:11.746 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:16:11.792 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:16:11.896 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:16:11.956 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:16:12.071 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:16:12.112 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:16:12.522 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:16:14.551 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-25 10:16:14.559 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:16:14.564 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:16:14.569 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:16:14.600 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-25 10:16:14.633 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-25 10:17:18.522 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:17:18.525 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:17:20.576 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:17:20.581 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:17:20.587 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:17:32.304 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 131941 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:17:32.313 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:17:32.315 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:17:33.889 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:17:34.093 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 188 ms. Found 3 JPA repository interfaces.
2025-12-25 10:17:35.194 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:17:35.214 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:17:35.217 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:17:35.217 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:17:35.285 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:17:35.288 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2906 ms
2025-12-25 10:17:35.593 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:17:35.595 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:17:35.759 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:17:35.974 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5c0272e0
2025-12-25 10:17:35.976 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:17:36.160 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:17:36.600 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:17:36.689 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:17:36.693 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:17:36.706 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:17:36.706 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:17:36.706 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:17:36.707 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:17:36.707 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:17:36.707 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 10:17:36.708 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:17:36.710 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:17:37.298 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:17:37.360 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:17:38.218 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:17:38.458 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:17:39.239 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2134080d-e25b-4b5c-8de4-bdc7605b4e7c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:17:39.253 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:17:39.378 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:17:39.425 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:17:39.524 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:17:39.584 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:17:39.706 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:17:39.750 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:17:40.144 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:17:40.153 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:17:40.168 [main] INFO  org.example.card.CardApplication - Started CardApplication in 8.487 seconds (process running for 9.58)
2025-12-25 10:17:49.196 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:17:49.197 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:17:49.197 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:17:49.198 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:17:49.198 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:17:49.199 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15c24b0c
2025-12-25 10:17:49.200 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@266b1bd9
2025-12-25 10:17:49.200 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:17:49.201 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:17:49.236 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:17:49.254 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:49.254 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:49.263 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:17:49.267 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:17:49.272 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:49.294 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:49.873 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:17:49.873 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:17:49.875 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:49.875 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:49.876 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:49.876 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:49.877 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:17:49.877 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:17:49.877 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:17:49.877 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:17:49.879 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:49.879 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:49.881 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:17:49.881 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:17:49.882 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:49.882 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:49.883 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:49.883 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:49.883 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:49.883 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:17:49.884 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:17:49.884 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:49.884 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:17:49.884 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:49.885 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:17:49.885 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:49.886 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:17:49.886 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:17:49.886 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:17:49.886 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:49.887 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:49.887 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:49.895 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:49.917 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:49.930 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:50.349 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:17:50.351 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:50.352 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:50.353 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:17:50.353 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:17:50.354 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:17:50.378 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:17:50.406 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:17:50.413 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:50.420 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:17:50.421 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:50.422 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:50.423 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:17:50.424 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:17:50.425 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:17:50.428 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:17:50.504 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:17:50.505 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:17:50.505 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:17:50.506 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:17:50.506 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:17:50.507 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:17:51.045 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 520 ms
2025-12-25 10:17:51.076 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:17:51.078 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:17:51.079 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:23:34.228 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:23:34.232 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:23:36.282 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:23:36.287 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:23:36.294 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:26:39.961 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 134781 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:26:39.970 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:26:39.972 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:26:41.591 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:26:41.796 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 191 ms. Found 3 JPA repository interfaces.
2025-12-25 10:26:42.853 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:26:42.870 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:26:42.872 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:26:42.872 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:26:42.946 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:26:42.946 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2919 ms
2025-12-25 10:26:43.286 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:26:43.287 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:26:43.436 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:26:43.641 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@43cbafa6
2025-12-25 10:26:43.643 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:26:43.818 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:26:44.264 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:26:44.356 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:26:44.360 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:26:44.373 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:26:44.373 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:26:44.373 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:26:44.374 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:26:44.374 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:26:44.374 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 10:26:44.375 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:26:44.377 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:26:45.013 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:26:45.081 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:26:46.094 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:26:46.359 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:26:47.196 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: bafb1f53-7bec-49bd-a4a1-6a34bf6f6ad1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:26:47.210 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:26:47.336 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:26:47.375 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:26:47.528 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:26:47.587 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:26:47.688 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:26:47.725 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:26:48.152 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:26:48.161 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:26:48.173 [main] INFO  org.example.card.CardApplication - Started CardApplication in 8.797 seconds (process running for 10.325)
2025-12-25 10:26:48.452 [RMI TCP Connection(2)-192.168.0.103] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:26:48.453 [RMI TCP Connection(2)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:26:48.453 [RMI TCP Connection(2)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:26:48.453 [RMI TCP Connection(2)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:26:48.453 [RMI TCP Connection(2)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:26:48.455 [RMI TCP Connection(2)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1ad98afc
2025-12-25 10:26:48.455 [RMI TCP Connection(2)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1dfe6286
2025-12-25 10:26:48.455 [RMI TCP Connection(2)-192.168.0.103] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:26:48.456 [RMI TCP Connection(2)-192.168.0.103] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:26:55.658 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:26:55.677 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:55.678 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:55.687 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:26:55.691 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:26:55.696 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:55.718 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:55.778 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:26:55.778 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:26:55.778 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:26:55.779 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:55.779 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:55.779 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:55.779 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:55.780 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:55.780 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:55.780 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:26:55.780 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:26:55.781 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:26:55.781 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:26:55.781 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:26:55.781 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:26:55.781 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:26:55.781 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:55.781 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:26:55.781 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:55.782 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:55.781 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:55.782 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:55.782 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:55.783 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:55.783 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:26:55.783 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:26:55.783 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:26:55.783 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:26:55.784 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:55.784 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:55.786 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:55.790 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:55.792 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:55.809 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:55.813 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:56.095 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:26:56.096 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:56.096 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:56.097 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:26:56.098 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:26:56.099 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:26:56.102 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:56.132 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:26:56.133 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:56.133 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:56.134 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:26:56.134 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:26:56.135 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:26:56.156 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:26:56.160 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:26:56.167 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:26:56.180 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:26:56.181 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:26:56.182 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:26:56.183 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:26:56.183 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:26:56.184 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:26:56.657 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 455 ms
2025-12-25 10:26:56.684 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:26:56.686 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:26:56.687 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:07.476 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:27:07.480 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:27:09.519 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:27:09.523 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:27:09.529 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:27:20.686 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 135190 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:27:20.695 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:27:20.697 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:27:22.114 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:27:22.307 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 3 JPA repository interfaces.
2025-12-25 10:27:23.390 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:27:23.408 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:27:23.412 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:27:23.412 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:27:23.486 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:27:23.489 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2734 ms
2025-12-25 10:27:23.794 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:27:23.796 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:27:23.940 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:27:24.151 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1aaaabd1
2025-12-25 10:27:24.154 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:27:24.322 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:27:24.744 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:27:24.827 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:27:24.831 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:27:24.843 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:27:24.843 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:27:24.843 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:27:24.843 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:27:24.844 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:27:24.844 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 10:27:24.845 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:27:24.847 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:27:25.330 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:27:25.382 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:27:26.181 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:27:26.384 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:27:27.131 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: eb3c4094-d3de-4b9d-8662-23179ac20938

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:27:27.143 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:27:27.260 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:27:27.300 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:27:27.399 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:27:27.468 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:27:27.596 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:27:27.639 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:27:27.993 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:27:28.002 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:27:28.015 [main] INFO  org.example.card.CardApplication - Started CardApplication in 7.9 seconds (process running for 8.915)
2025-12-25 10:27:37.624 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:27:37.624 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:27:37.625 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:27:37.625 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:27:37.625 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:27:37.627 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1264bde8
2025-12-25 10:27:37.628 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@708c9f9e
2025-12-25 10:27:37.628 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:27:37.628 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:27:37.663 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:27:37.681 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:37.681 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:37.689 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:27:37.693 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:27:37.697 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:37.721 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:37.769 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:27:37.769 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:27:37.770 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:27:37.770 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:27:37.770 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:27:37.771 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:37.771 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:37.771 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:37.771 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:37.771 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:37.771 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:37.771 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:37.771 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:37.772 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:37.772 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:37.772 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:27:37.772 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:27:37.772 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:27:37.773 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:27:37.773 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:27:37.773 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:27:37.773 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:27:37.773 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:27:37.773 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:27:37.774 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:27:37.774 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:37.774 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:37.774 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:37.774 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:37.775 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:37.778 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:37.780 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:37.783 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:37.803 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:37.819 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:38.079 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:27:38.081 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:38.081 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:38.082 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:27:38.082 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:27:38.083 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:27:38.086 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:38.122 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:27:38.124 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:38.124 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:38.125 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:27:38.126 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:27:38.127 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:27:38.149 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:27:38.177 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:27:38.184 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:27:38.197 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:27:38.199 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:27:38.199 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:27:38.200 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:27:38.200 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:27:38.201 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:27:38.715 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 495 ms
2025-12-25 10:27:38.747 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:27:38.749 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:27:38.750 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:48.728 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:33:48.729 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:48.729 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:48.730 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:33:48.731 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:33:48.732 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:48.734 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:48.787 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:33:48.788 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:48.788 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:33:48.788 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:33:48.788 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:48.789 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:48.789 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:48.789 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:33:48.789 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:33:48.789 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:48.789 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:33:48.789 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:48.789 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:48.789 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:33:48.790 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:48.790 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:33:48.790 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:48.790 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:48.790 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:33:48.790 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:33:48.790 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:33:48.790 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:48.791 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:33:48.791 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:33:48.791 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:48.791 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:33:48.792 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:48.792 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:33:48.792 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:48.792 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:48.796 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:48.797 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:48.799 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:48.800 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:48.814 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:49.089 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:33:49.090 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:49.090 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:49.091 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:33:49.091 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:33:49.093 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:33:49.095 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:49.137 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:33:49.138 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:49.138 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:49.139 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:33:49.139 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:33:49.140 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:33:49.141 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:33:49.141 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:33:49.142 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:33:49.156 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:33:49.157 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:33:49.157 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:33:49.158 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:33:49.158 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:33:49.159 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:33:49.171 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:33:49.173 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:33:49.174 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:35:51.656 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:35:51.656 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:35:51.657 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:35:51.665 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-25 10:35:51.678 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /error
2025-12-25 10:35:51.679 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:35:51.680 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-12-25 10:37:13.072 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:37:13.214 [http-nio-8080-exec-1] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:37:13.215 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:37:13.215 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:37:13.215 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:37:13.236 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:37:13.302 [http-nio-8080-exec-1] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:37:13.319 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:37:13.434 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.resource_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:37:13.448 [http-nio-8080-exec-1] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42703
2025-12-25 10:37:13.449 [http-nio-8080-exec-1] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ERROR: column ir1_0.resource_status does not exist
  Position: 146
2025-12-25 10:37:13.471 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.example.card.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-12-25 10:37:13.480 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:37:13.481 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [ErrorResponseDto(code=internal_error, message=An unexpected error occurred: JDBC exception executing (truncated)...]
2025-12-25 10:37:13.482 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select ir1_0.id,ir1_0.created_at,ir1_0.endpoint,ir1_0.expires_at,ir1_0.idempotency_key,ir1_0.resource_id,ir1_0.resource_type,ir1_0.response_body,ir1_0.resource_status from idempotency_records ir1_0 where ir1_0.idempotency_key=?] [ERROR: column ir1_0.resource_status does not exist<EOL>  Position: 146] [n/a]; SQL [n/a]]
2025-12-25 10:37:13.483 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-12-25 10:40:01.917 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:40:01.920 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:40:03.971 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:40:03.976 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:40:03.981 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:40:35.592 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 142468 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:40:35.602 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:40:35.603 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:40:37.148 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:40:37.318 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 3 JPA repository interfaces.
2025-12-25 10:40:38.125 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:40:38.138 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:40:38.140 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:40:38.141 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:40:38.189 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:40:38.191 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2526 ms
2025-12-25 10:40:38.402 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:40:38.403 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:40:38.500 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:40:38.638 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2762253e
2025-12-25 10:40:38.639 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:40:38.739 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:40:39.003 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:40:39.062 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:40:39.064 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:40:39.072 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:40:39.073 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:40:39.073 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:40:39.073 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:40:39.073 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:40:39.073 [main] INFO  liquibase.util - Total change sets:            4
2025-12-25 10:40:39.074 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:40:39.075 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:40:39.446 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:40:39.486 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:40:40.176 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:40:40.390 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:40:41.183 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: ace68561-767f-419e-b5ea-9ea7facbae80

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:40:41.198 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:40:41.329 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:40:41.380 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:40:41.522 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:40:41.583 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:40:41.687 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:40:41.723 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:40:42.133 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:40:42.144 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:40:42.158 [main] INFO  org.example.card.CardApplication - Started CardApplication in 7.165 seconds (process running for 8.262)
2025-12-25 10:44:59.291 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:44:59.291 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:44:59.292 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:44:59.292 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:44:59.292 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:44:59.294 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@55c33059
2025-12-25 10:44:59.295 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4f5bb24d
2025-12-25 10:44:59.295 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:44:59.296 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-12-25 10:44:59.337 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:44:59.536 [http-nio-8080-exec-1] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:44:59.546 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:44:59.550 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:44:59.553 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:44:59.660 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:44:59.735 [http-nio-8080-exec-1] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:44:59.749 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:44:59.856 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:44:59.923 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.card_id) 
    from
        cards c1_0 
    where
        c1_0.user_id=? 
        and c1_0.status<>?
2025-12-25 10:44:59.975 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.example.card.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-12-25 10:45:00.013 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:45:00.016 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [ErrorResponseDto(code=internal_error, message=An unexpected error occurred: Identifier of entity 'or (truncated)...]
2025-12-25 10:45:00.034 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.orm.jpa.JpaSystemException: Identifier of entity 'org.example.card.model.Card' must be manually assigned before calling 'persist()']
2025-12-25 10:45:00.035 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-12-25 10:45:16.943 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:45:16.946 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:45:18.994 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:45:19.007 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:45:19.013 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:46:05.667 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 145677 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:46:05.676 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:46:05.678 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:46:07.163 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:46:07.352 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 177 ms. Found 3 JPA repository interfaces.
2025-12-25 10:46:08.212 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:46:08.225 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:46:08.227 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:46:08.227 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:46:08.278 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:46:08.279 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2537 ms
2025-12-25 10:46:08.501 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:46:08.502 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:46:08.599 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:46:08.739 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2578ea
2025-12-25 10:46:08.745 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:46:08.856 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:46:09.130 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:46:09.217 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2025-12-25 10:46:09.219 [main] INFO  liquibase.command - Using deploymentId: 6641569219
2025-12-25 10:46:09.222 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:46:09.230 [main] INFO  liquibase.ui - Running Changeset: db/changelog/changes/005-add-resource-status-to-idempotency.yaml::5::duwniy
2025-12-25 10:46:09.243 [main] INFO  liquibase.changelog - Columns resource_status(varchar(50)) added to idempotency_records
2025-12-25 10:46:09.248 [main] INFO  liquibase.changelog - ChangeSet db/changelog/changes/005-add-resource-status-to-idempotency.yaml::5::duwniy ran successfully in 18ms
2025-12-25 10:46:09.265 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:46:09.266 [main] INFO  liquibase.util - Run:                          1
2025-12-25 10:46:09.266 [main] INFO  liquibase.util - Previously run:               4
2025-12-25 10:46:09.266 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:46:09.266 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:46:09.266 [main] INFO  liquibase.util - Total change sets:            5
2025-12-25 10:46:09.267 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:46:09.269 [main] INFO  liquibase.command - Update command completed successfully.
2025-12-25 10:46:09.269 [main] INFO  liquibase.ui - Liquibase: Update has been successful. Rows affected: 1
2025-12-25 10:46:09.276 [main] INFO  liquibase.lockservice - Successfully released change log lock
2025-12-25 10:46:09.279 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:46:09.642 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:46:09.677 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:46:10.335 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:46:10.544 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:46:11.284 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: e2740ff0-64e2-4522-9527-d3b3ed6df2d0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:46:11.298 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:46:11.426 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:46:11.472 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:46:11.575 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:46:11.635 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:46:11.738 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:46:11.775 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:46:12.161 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:46:12.169 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:46:12.183 [main] INFO  org.example.card.CardApplication - Started CardApplication in 7.108 seconds (process running for 8.155)
2025-12-25 10:46:17.950 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:46:17.951 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:46:17.951 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:46:17.951 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:46:17.951 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:46:17.953 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5056e33f
2025-12-25 10:46:17.954 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@52c94e6d
2025-12-25 10:46:17.954 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:46:17.954 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:46:17.993 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:46:18.014 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.014 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.022 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:46:18.026 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:46:18.032 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.054 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.114 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:46:18.114 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:46:18.114 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:46:18.114 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:46:18.116 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.116 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.116 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.116 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.116 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:46:18.116 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.117 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.116 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.117 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.117 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:46:18.118 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.118 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:46:18.118 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.118 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:46:18.118 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:46:18.119 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:46:18.119 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:46:18.119 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:46:18.119 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.119 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:46:18.119 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.120 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.120 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.117 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:46:18.121 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:46:18.122 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.124 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.129 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.131 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.150 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.178 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.425 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:46:18.427 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.427 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.428 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:46:18.428 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:46:18.430 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:46:18.433 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.468 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:46:18.469 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.469 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.470 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:46:18.471 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:46:18.472 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:46:18.494 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:46:18.522 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:46:18.529 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:46:18.576 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:46:18.577 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:46:18.577 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:46:18.578 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:46:18.579 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:46:18.579 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:46:19.138 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 540 ms
2025-12-25 10:46:19.168 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:46:19.170 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:46:19.171 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:49:32.762 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:49:32.899 [http-nio-8080-exec-4] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:49:32.901 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:49:32.901 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:49:32.902 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:49:32.923 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:49:32.986 [http-nio-8080-exec-4] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:49:33.003 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:49:33.114 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:49:33.181 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.card_id) 
    from
        cards c1_0 
    where
        c1_0.user_id=? 
        and c1_0.status<>?
2025-12-25 10:49:33.254 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Using @ExceptionHandler org.example.card.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-12-25 10:49:33.265 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:49:33.268 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [ErrorResponseDto(code=internal_error, message=An unexpected error occurred: Identifier of entity 'or (truncated)...]
2025-12-25 10:49:33.271 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - Resolved [org.springframework.orm.jpa.JpaSystemException: Identifier of entity 'org.example.card.model.Card' must be manually assigned before calling 'persist()']
2025-12-25 10:49:33.272 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-12-25 10:53:43.441 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 10:53:43.452 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 10:53:45.493 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:53:45.506 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 10:53:45.512 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 10:54:15.841 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 149959 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 10:54:15.847 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 10:54:15.848 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 10:54:16.797 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 10:54:16.902 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2025-12-25 10:54:17.533 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 10:54:17.545 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 10:54:17.546 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 10:54:17.546 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 10:54:17.591 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 10:54:17.593 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1707 ms
2025-12-25 10:54:17.782 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 10:54:17.783 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 10:54:17.876 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 10:54:18.005 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d551ec6
2025-12-25 10:54:18.007 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 10:54:18.112 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 10:54:18.366 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:54:18.419 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 10:54:18.422 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 10:54:18.429 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 10:54:18.429 [main] INFO  liquibase.util - Run:                          0
2025-12-25 10:54:18.429 [main] INFO  liquibase.util - Previously run:               5
2025-12-25 10:54:18.429 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 10:54:18.430 [main] INFO  liquibase.util - -------------------------------
2025-12-25 10:54:18.430 [main] INFO  liquibase.util - Total change sets:            5
2025-12-25 10:54:18.430 [main] INFO  liquibase.util - Update summary generated
2025-12-25 10:54:18.431 [main] INFO  liquibase.command - Command execution complete
2025-12-25 10:54:18.828 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 10:54:18.875 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 10:54:19.609 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 10:54:19.841 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 10:54:20.648 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: ca50d207-d769-4ea6-98e4-3a88e76161dc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 10:54:20.663 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 10:54:20.798 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 10:54:20.838 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 10:54:20.934 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 10:54:21.001 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 10:54:21.104 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 10:54:21.142 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 10:54:21.554 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 10:54:21.563 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 10:54:21.577 [main] INFO  org.example.card.CardApplication - Started CardApplication in 6.186 seconds (process running for 7.244)
2025-12-25 10:54:23.821 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 10:54:23.822 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 10:54:23.822 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 10:54:23.822 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 10:54:23.822 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 10:54:23.824 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5686f018
2025-12-25 10:54:23.825 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4968eb3f
2025-12-25 10:54:23.825 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 10:54:23.826 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-12-25 10:54:23.859 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 10:54:23.877 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:23.877 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:23.884 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 10:54:23.888 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 10:54:23.893 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:23.915 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:23.969 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 10:54:23.970 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 10:54:23.970 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:54:23.971 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:54:23.971 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:23.971 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 10:54:23.971 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:23.972 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:23.972 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:23.972 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:23.972 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:23.972 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:23.972 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:23.973 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 10:54:23.973 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 10:54:23.973 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 10:54:23.973 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:23.973 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 10:54:23.974 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:23.973 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 10:54:23.974 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 10:54:23.974 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 10:54:23.974 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:23.975 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 10:54:23.975 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 10:54:23.975 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:23.975 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 10:54:23.975 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:23.976 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:23.976 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:23.978 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:23.981 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:23.984 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:24.001 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:24.019 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:24.278 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 10:54:24.279 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:24.280 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:24.281 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 10:54:24.281 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 10:54:24.282 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 10:54:24.285 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:24.311 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 10:54:24.313 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:24.313 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:24.315 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 10:54:24.315 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 10:54:24.316 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 10:54:24.338 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 10:54:24.366 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 10:54:24.374 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:54:24.393 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 10:54:24.395 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 10:54:24.395 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 10:54:24.396 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 10:54:24.396 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 10:54:24.397 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 10:54:24.943 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 527 ms
2025-12-25 10:54:24.975 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 10:54:24.977 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 10:54:24.978 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 10:55:31.469 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:55:31.639 [http-nio-8080-exec-4] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:55:31.640 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:55:31.640 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:55:31.641 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:55:31.663 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:55:31.726 [http-nio-8080-exec-4] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:55:31.742 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:55:31.849 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:55:31.907 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.card_id) 
    from
        cards c1_0 
    where
        c1_0.user_id=? 
        and c1_0.status<>?
2025-12-25 10:55:31.983 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        cards
        (balance, created_at, currency, status, updated_at, user_id, version, card_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-12-25 10:55:31.996 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        idempotency_records
        (created_at, endpoint, expires_at, idempotency_key, resource_id, resource_type, response_body, response_status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-12-25 10:55:32.020 [http-nio-8080-exec-4] INFO  org.example.card.service.IdempotencyService - Saved idempotency record for key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:55:32.020 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Card created successfully: 3a922971-55a0-4a86-a82d-dd4e581032eb
2025-12-25 10:55:32.041 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:55:32.042 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:55:32.044 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:56:29.667 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:56:29.670 [http-nio-8080-exec-6] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:56:29.671 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:56:29.672 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:56:29.672 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:56:29.674 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:56:29.675 [http-nio-8080-exec-6] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:56:29.678 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:56:29.680 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:56:29.687 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:56:29.691 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:56:29.692 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:56:29.693 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:56:37.141 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:56:37.144 [http-nio-8080-exec-7] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:56:37.145 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:56:37.145 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:56:37.145 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:56:37.147 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:56:37.148 [http-nio-8080-exec-7] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:56:37.150 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:56:37.153 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:56:37.157 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:56:37.160 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:56:37.161 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:56:37.162 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:05.467 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:05.470 [http-nio-8080-exec-9] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:05.471 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:05.471 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:05.472 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:05.473 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:05.474 [http-nio-8080-exec-9] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:05.477 [http-nio-8080-exec-9] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:05.479 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:05.484 [http-nio-8080-exec-9] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:05.487 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:05.487 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:05.488 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:11.269 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:11.272 [http-nio-8080-exec-10] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:11.273 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:11.273 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:11.274 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:11.275 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:11.276 [http-nio-8080-exec-10] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:11.279 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:11.282 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:11.287 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:11.291 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:11.291 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:11.292 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:14.454 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:14.456 [http-nio-8080-exec-2] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:14.457 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:14.458 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:14.459 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:14.461 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:14.462 [http-nio-8080-exec-2] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:14.465 [http-nio-8080-exec-2] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:14.467 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:14.473 [http-nio-8080-exec-2] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:14.477 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:14.477 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:14.478 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:15.145 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:15.147 [http-nio-8080-exec-3] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:15.149 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:15.149 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:15.149 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:15.151 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:15.151 [http-nio-8080-exec-3] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.154 [http-nio-8080-exec-3] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.156 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:15.161 [http-nio-8080-exec-3] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:15.164 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:15.164 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:15.165 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:15.473 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:15.477 [http-nio-8080-exec-1] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:15.478 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:15.478 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:15.479 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:15.480 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:15.481 [http-nio-8080-exec-1] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.482 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.485 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:15.489 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:15.493 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:15.493 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:15.494 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:15.636 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:15.638 [http-nio-8080-exec-5] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:15.638 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:15.639 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:15.639 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:15.640 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:15.641 [http-nio-8080-exec-5] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.642 [http-nio-8080-exec-5] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.645 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:15.650 [http-nio-8080-exec-5] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:15.653 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:15.653 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:15.654 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:15.805 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:15.808 [http-nio-8080-exec-4] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:15.809 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:15.809 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:15.810 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:15.811 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:15.812 [http-nio-8080-exec-4] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.812 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.814 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:15.819 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:15.822 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:15.822 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:15.823 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:15.987 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:15.989 [http-nio-8080-exec-6] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:15.990 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:15.991 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:15.991 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:15.992 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:15.993 [http-nio-8080-exec-6] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.993 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:15.996 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:16.000 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:16.004 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:16.004 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:16.005 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:21.710 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:21.712 [http-nio-8080-exec-7] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:21.713 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:21.713 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:21.714 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:21.715 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:21.716 [http-nio-8080-exec-7] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:21.719 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:21.722 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:21.725 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:21.729 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:21.729 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:21.730 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:21.899 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:21.902 [http-nio-8080-exec-8] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:21.902 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:21.903 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:21.903 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:21.904 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:21.905 [http-nio-8080-exec-8] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:21.906 [http-nio-8080-exec-8] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:21.909 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:21.913 [http-nio-8080-exec-8] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:21.917 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:21.917 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:21.918 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:22.068 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:22.071 [http-nio-8080-exec-9] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:22.071 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:22.072 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:22.072 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:22.073 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:22.074 [http-nio-8080-exec-9] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.075 [http-nio-8080-exec-9] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.077 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:22.081 [http-nio-8080-exec-9] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:22.084 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:22.084 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:22.085 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:22.232 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:22.234 [http-nio-8080-exec-10] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:22.235 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:22.235 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:22.236 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:22.237 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:22.238 [http-nio-8080-exec-10] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.238 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.241 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:22.245 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:22.249 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:22.249 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:22.251 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:22.387 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:22.389 [http-nio-8080-exec-2] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:22.390 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:22.390 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:22.390 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:22.393 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:22.394 [http-nio-8080-exec-2] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.395 [http-nio-8080-exec-2] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.398 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:22.402 [http-nio-8080-exec-2] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:22.406 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:22.406 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:22.407 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:22.557 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:22.559 [http-nio-8080-exec-3] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:22.560 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:22.560 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:22.561 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:22.562 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:22.562 [http-nio-8080-exec-3] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.563 [http-nio-8080-exec-3] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.566 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:22.570 [http-nio-8080-exec-3] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:22.575 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:22.575 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:22.576 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:22.724 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:22.726 [http-nio-8080-exec-1] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:22.726 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:22.727 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:22.727 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:22.728 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:22.729 [http-nio-8080-exec-1] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.730 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.732 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:22.736 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:22.739 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:22.739 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:22.740 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 10:58:22.904 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 10:58:22.906 [http-nio-8080-exec-5] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 10:58:22.906 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 10:58:22.907 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 10:58:22.907 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 10:58:22.908 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 10:58:22.908 [http-nio-8080-exec-5] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.909 [http-nio-8080-exec-5] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 10:58:22.911 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 10:58:22.915 [http-nio-8080-exec-5] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 10:58:22.919 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 10:58:22.919 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 10:58:22.920 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:09:00.564 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 156995 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 11:09:00.575 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 11:09:00.577 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 11:09:02.109 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:09:02.273 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 152 ms. Found 3 JPA repository interfaces.
2025-12-25 11:09:03.060 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 11:09:03.075 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 11:09:03.078 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:09:03.079 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 11:09:03.123 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:09:03.125 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2466 ms
2025-12-25 11:09:03.320 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 11:09:03.321 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 11:09:03.413 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:09:03.548 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@120d13ae
2025-12-25 11:09:03.549 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:09:03.648 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 11:09:03.890 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 11:09:03.941 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 11:09:03.944 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 11:09:03.951 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 11:09:03.951 [main] INFO  liquibase.util - Run:                          0
2025-12-25 11:09:03.951 [main] INFO  liquibase.util - Previously run:               5
2025-12-25 11:09:03.951 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 11:09:03.951 [main] INFO  liquibase.util - -------------------------------
2025-12-25 11:09:03.952 [main] INFO  liquibase.util - Total change sets:            5
2025-12-25 11:09:03.952 [main] INFO  liquibase.util - Update summary generated
2025-12-25 11:09:03.953 [main] INFO  liquibase.command - Command execution complete
2025-12-25 11:09:04.319 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:09:04.356 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:09:04.993 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:09:05.209 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:09:05.989 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: 917f41ff-457a-456d-9dd4-ebfc70a0006f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 11:09:06.002 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 11:09:06.134 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 11:09:06.175 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 11:09:06.279 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 11:09:06.342 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 11:09:06.461 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 11:09:06.503 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 11:09:06.909 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 11:09:08.934 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-12-25 11:09:08.942 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:09:08.946 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:09:08.958 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:09:08.989 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-25 11:09:09.012 [main] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-12-25 11:09:40.774 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:09:40.777 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:09:42.814 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:09:42.817 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:09:42.822 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:09:51.271 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 157646 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 11:09:51.280 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 11:09:51.282 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 11:09:52.949 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:09:53.121 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 3 JPA repository interfaces.
2025-12-25 11:09:53.882 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 11:09:53.892 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 11:09:53.894 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:09:53.894 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 11:09:53.935 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:09:53.936 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2593 ms
2025-12-25 11:09:54.111 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 11:09:54.112 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 11:09:54.185 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:09:54.307 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75663443
2025-12-25 11:09:54.308 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:09:54.399 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 11:09:54.627 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 11:09:54.678 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 11:09:54.681 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 11:09:54.689 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 11:09:54.689 [main] INFO  liquibase.util - Run:                          0
2025-12-25 11:09:54.689 [main] INFO  liquibase.util - Previously run:               5
2025-12-25 11:09:54.689 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 11:09:54.689 [main] INFO  liquibase.util - -------------------------------
2025-12-25 11:09:54.690 [main] INFO  liquibase.util - Total change sets:            5
2025-12-25 11:09:54.690 [main] INFO  liquibase.util - Update summary generated
2025-12-25 11:09:54.691 [main] INFO  liquibase.command - Command execution complete
2025-12-25 11:09:55.047 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:09:55.095 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:09:55.754 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:09:55.949 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:09:56.677 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0bad765f-7c24-45a7-9a1c-a0252163f241

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 11:09:56.688 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 11:09:56.804 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 11:09:56.852 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 11:09:56.944 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 11:09:57.002 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 11:09:57.112 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 11:09:57.151 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 11:09:57.485 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 11:09:57.493 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 11:09:57.506 [main] INFO  org.example.card.CardApplication - Started CardApplication in 6.833 seconds (process running for 7.879)
2025-12-25 11:11:31.928 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 11:11:31.928 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 11:11:31.929 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 11:11:31.929 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 11:11:31.929 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 11:11:31.931 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@215998b6
2025-12-25 11:11:31.931 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7105c023
2025-12-25 11:11:31.932 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 11:11:31.932 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-12-25 11:11:31.979 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 11:11:31.997 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:31.997 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.004 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 11:11:32.007 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 11:11:32.013 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.038 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.101 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 11:11:32.101 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 11:11:32.102 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 11:11:32.102 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 11:11:32.102 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 11:11:32.103 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.103 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.103 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.103 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.103 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.103 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.104 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 11:11:32.104 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.104 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 11:11:32.105 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 11:11:32.105 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.104 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 11:11:32.105 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.105 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 11:11:32.105 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 11:11:32.105 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.106 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.106 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 11:11:32.106 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 11:11:32.106 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.106 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 11:11:32.106 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 11:11:32.106 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.107 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.107 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.111 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.112 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.117 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.134 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.159 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.416 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 11:11:32.418 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.418 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.419 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 11:11:32.420 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 11:11:32.421 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:11:32.423 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.469 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 11:11:32.470 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.470 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.471 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 11:11:32.472 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 11:11:32.472 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 11:11:32.504 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 11:11:32.536 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 11:11:32.544 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:32.614 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 11:11:32.616 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:11:32.616 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:11:32.617 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 11:11:32.617 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 11:11:32.618 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 11:11:33.209 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 572 ms
2025-12-25 11:11:33.241 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 11:11:33.243 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 11:11:33.244 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:11:47.727 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:11:47.857 [http-nio-8080-exec-10] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:11:47.859 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:11:47.860 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:11:47.860 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:11:47.878 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:11:47.934 [http-nio-8080-exec-10] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:11:47.947 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:11:48.060 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:11:48.117 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:11:48.144 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:11:48.145 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:11:48.146 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:11:59.103 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:11:59.106 [http-nio-8080-exec-1] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:11:59.107 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:11:59.108 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:11:59.108 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:11:59.110 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:11:59.111 [http-nio-8080-exec-1] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:11:59.114 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:11:59.116 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:11:59.121 [http-nio-8080-exec-1] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:11:59.125 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:11:59.125 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:11:59.126 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:01.782 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:01.785 [http-nio-8080-exec-3] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:01.786 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:01.786 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:01.787 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:01.788 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:01.789 [http-nio-8080-exec-3] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:01.792 [http-nio-8080-exec-3] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:01.795 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:01.799 [http-nio-8080-exec-3] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:01.803 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:01.803 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:01.804 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:01.945 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:01.948 [http-nio-8080-exec-2] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:01.949 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:01.950 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:01.950 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:01.951 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:01.952 [http-nio-8080-exec-2] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:01.953 [http-nio-8080-exec-2] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:01.955 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:01.961 [http-nio-8080-exec-2] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:01.964 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:01.965 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:01.966 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:02.068 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:02.070 [http-nio-8080-exec-5] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:02.071 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:02.071 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:02.072 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:02.073 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:02.074 [http-nio-8080-exec-5] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.075 [http-nio-8080-exec-5] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.077 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:02.082 [http-nio-8080-exec-5] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:02.086 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:02.086 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:02.087 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:02.212 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:02.215 [http-nio-8080-exec-4] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:02.216 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:02.217 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:02.217 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:02.218 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:02.219 [http-nio-8080-exec-4] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.220 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.222 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:02.228 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:02.231 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:02.231 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:02.233 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:02.351 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:02.354 [http-nio-8080-exec-6] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:02.354 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:02.355 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:02.355 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:02.356 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:02.357 [http-nio-8080-exec-6] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.358 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.361 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:02.365 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:02.369 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:02.369 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:02.370 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:02.511 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:02.514 [http-nio-8080-exec-7] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:02.515 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:02.515 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:02.516 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:02.517 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:02.518 [http-nio-8080-exec-7] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.518 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.521 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:02.525 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:02.529 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:02.529 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:02.530 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:02.698 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:02.701 [http-nio-8080-exec-8] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:02.701 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:02.701 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:02.702 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:02.704 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:02.704 [http-nio-8080-exec-8] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.705 [http-nio-8080-exec-8] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:02.708 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:02.712 [http-nio-8080-exec-8] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:02.716 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:02.716 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:02.718 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:12:07.425 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:12:07.428 [http-nio-8080-exec-9] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:12:07.428 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:12:07.429 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:12:07.429 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:12:07.430 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:12:07.431 [http-nio-8080-exec-9] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:07.434 [http-nio-8080-exec-9] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:12:07.437 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:12:07.442 [http-nio-8080-exec-9] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:12:07.445 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:12:07.445 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:12:07.446 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:25:24.540 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:25:24.558 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:25:26.842 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:25:26.853 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:25:26.857 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-25 11:30:00.816 [main] INFO  org.example.card.CardApplication - Starting CardApplication using Java 17.0.17 with PID 6667 (/home/duwniy/IdeaProjects/card/target/classes started by duwniy in /home/duwniy/IdeaProjects/card)
2025-12-25 11:30:00.821 [main] DEBUG org.example.card.CardApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-12-25 11:30:00.821 [main] INFO  org.example.card.CardApplication - The following 1 profile is active: "dev"
2025-12-25 11:30:01.545 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-25 11:30:01.647 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2025-12-25 11:30:02.136 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-25 11:30:02.145 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-12-25 11:30:02.146 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-12-25 11:30:02.146 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-12-25 11:30:02.181 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-25 11:30:02.183 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1330 ms
2025-12-25 11:30:02.327 [main] DEBUG org.example.card.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-25 11:30:02.328 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-12-25 11:30:02.402 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-25 11:30:02.504 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6614ecca
2025-12-25 11:30:02.505 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-25 11:30:02.603 [main] INFO  liquibase.database - Set default schema name to public
2025-12-25 11:30:02.845 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 11:30:02.886 [main] INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-12-25 11:30:02.888 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2025-12-25 11:30:02.894 [main] INFO  liquibase.util - UPDATE SUMMARY
2025-12-25 11:30:02.894 [main] INFO  liquibase.util - Run:                          0
2025-12-25 11:30:02.894 [main] INFO  liquibase.util - Previously run:               5
2025-12-25 11:30:02.894 [main] INFO  liquibase.util - Filtered out:                 0
2025-12-25 11:30:02.894 [main] INFO  liquibase.util - -------------------------------
2025-12-25 11:30:02.895 [main] INFO  liquibase.util - Total change sets:            5
2025-12-25 11:30:02.895 [main] INFO  liquibase.util - Update summary generated
2025-12-25 11:30:02.896 [main] INFO  liquibase.command - Command execution complete
2025-12-25 11:30:03.213 [main] INFO  org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-25 11:30:03.244 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-25 11:30:03.770 [main] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:30:03.950 [main] INFO  org.springframework.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-25 11:30:04.623 [main] WARN  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4dc5fa6a-bc97-4166-8d7c-7d2baa3e00cb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-25 11:30:04.637 [main] INFO  org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-25 11:30:04.751 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-12-25 11:30:04.797 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-25 11:30:04.883 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-12-25 11:30:04.939 [main] DEBUG org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-25 11:30:05.045 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-25 11:30:05.088 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-25 11:30:05.415 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-12-25 11:30:05.422 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-25 11:30:05.434 [main] INFO  org.example.card.CardApplication - Started CardApplication in 4.879 seconds (process running for 5.373)
2025-12-25 11:30:10.291 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-25 11:30:10.292 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-25 11:30:10.292 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-12-25 11:30:10.292 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-12-25 11:30:10.292 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-12-25 11:30:10.293 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@62aea363
2025-12-25 11:30:10.293 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@71ad307d
2025-12-25 11:30:10.294 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-25 11:30:10.294 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-12-25 11:30:10.311 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-12-25 11:30:10.319 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.319 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.323 [http-nio-8080-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-12-25 11:30:10.326 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-12-25 11:30:10.328 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.340 [http-nio-8080-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.361 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 11:30:10.361 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 11:30:10.361 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-12-25 11:30:10.361 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-12-25 11:30:10.361 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-12-25 11:30:10.362 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.362 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.362 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.362 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.362 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.362 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.362 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.362 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.363 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.363 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.363 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-12-25 11:30:10.363 [http-nio-8080-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-12-25 11:30:10.363 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-12-25 11:30:10.363 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-12-25 11:30:10.363 [http-nio-8080-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-12-25 11:30:10.363 [http-nio-8080-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-12-25 11:30:10.364 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-12-25 11:30:10.364 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.363 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-12-25 11:30:10.363 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-12-25 11:30:10.363 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-12-25 11:30:10.364 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.365 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.366 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.365 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.367 [http-nio-8080-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.380 [http-nio-8080-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.382 [http-nio-8080-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.390 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.404 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.535 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-12-25 11:30:10.535 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.535 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.536 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-12-25 11:30:10.536 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-12-25 11:30:10.537 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-12-25 11:30:10.539 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.556 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-12-25 11:30:10.557 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.557 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.558 [http-nio-8080-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-12-25 11:30:10.558 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-12-25 11:30:10.559 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-12-25 11:30:10.572 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-12-25 11:30:10.590 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-12-25 11:30:10.594 [http-nio-8080-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:30:10.625 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-12-25 11:30:10.626 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-25 11:30:10.626 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.session.SessionManagementFilter - Request requested invalid session id E5990064456CD85D8639F95C5EA0B960
2025-12-25 11:30:10.626 [http-nio-8080-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-12-25 11:30:10.626 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-12-25 11:30:10.627 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-12-25 11:30:10.897 [http-nio-8080-exec-9] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 259 ms
2025-12-25 11:30:10.914 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-12-25 11:30:10.915 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-12-25 11:30:10.916 [http-nio-8080-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-12-25 11:31:05.868 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:31:05.933 [http-nio-8080-exec-10] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:31:05.934 [http-nio-8080-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:31:05.935 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:31:05.935 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:31:05.943 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:31:05.969 [http-nio-8080-exec-10] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:05.976 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:06.023 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:31:06.079 [http-nio-8080-exec-10] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:31:06.092 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:31:06.092 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:31:06.093 [http-nio-8080-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:31:12.839 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:31:12.840 [http-nio-8080-exec-4] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:31:12.841 [http-nio-8080-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:31:12.841 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:31:12.841 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:31:12.842 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:31:12.842 [http-nio-8080-exec-4] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:12.843 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:12.845 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:31:12.848 [http-nio-8080-exec-4] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:31:12.851 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:31:12.851 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:31:12.852 [http-nio-8080-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:31:21.261 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:31:21.262 [http-nio-8080-exec-6] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:31:21.263 [http-nio-8080-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:31:21.263 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:31:21.263 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:31:21.265 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:31:21.265 [http-nio-8080-exec-6] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:21.267 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:21.268 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:31:21.270 [http-nio-8080-exec-6] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:31:21.272 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:31:21.272 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:31:21.273 [http-nio-8080-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:31:22.725 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /api/v1/cards
2025-12-25 11:31:22.726 [http-nio-8080-exec-7] DEBUG org.example.card.security.JwtAuthenticationFilter - Authenticated user with ID: 1234
2025-12-25 11:31:22.727 [http-nio-8080-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /api/v1/cards
2025-12-25 11:31:22.727 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/v1/cards", parameters={}
2025-12-25 11:31:22.727 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.example.card.controller.CardController#createCard(CreateCardRequestDto, String, Authentication)
2025-12-25 11:31:22.728 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCardRequestDto(userId=0, status=ACTIVE, initialAmount=10000, currency=UZS)]
2025-12-25 11:31:22.729 [http-nio-8080-exec-7] INFO  org.example.card.controller.CardController - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:22.731 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Creating card for user: 1234, idempotency key: 550e8400-e29b-41d4-a716-446655440000
2025-12-25 11:31:22.732 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ir1_0.id,
        ir1_0.created_at,
        ir1_0.endpoint,
        ir1_0.expires_at,
        ir1_0.idempotency_key,
        ir1_0.resource_id,
        ir1_0.resource_type,
        ir1_0.response_body,
        ir1_0.response_status 
    from
        idempotency_records ir1_0 
    where
        ir1_0.idempotency_key=?
2025-12-25 11:31:22.734 [http-nio-8080-exec-7] INFO  org.example.card.service.CardService - Idempotency key already exists, returning cached response
2025-12-25 11:31:22.735 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-12-25 11:31:22.735 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [CardResponseDto(cardId=3a922971-55a0-4a86-a82d-dd4e581032eb, userId=1234, status=ACTIVE, balance=100 (truncated)...]
2025-12-25 11:31:22.736 [http-nio-8080-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-12-25 11:39:25.301 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-25 11:39:25.305 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-25 11:39:27.358 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-25 11:39:27.364 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-25 11:39:27.368 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
